{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Container,Form,Button,Alert,Spinner,Row,Col}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadPage=()=>{const[images,setImages]=useState([]);const[previews,setPreviews]=useState([]);const[uploading,setUploading]=useState(false);const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");const handleFileChange=e=>{const files=Array.from(e.target.files);if(files.length>10){setError(\"You can upload up to 10 images at a time.\");return;}setImages(files);setPreviews(files.map(file=>URL.createObjectURL(file)));setError(\"\");setSuccess(\"\");};const handleUpload=async e=>{e.preventDefault();if(images.length===0){setError(\"Please select at least one image.\");return;}const formData=new FormData();images.forEach(image=>{formData.append(\"images\",image);// Append the selected images\n});setUploading(true);try{const response=await axios.post(\"http://localhost:5000/api/upload-multiple\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setSuccess(\"Images uploaded successfully!\");setImages([]);// Reset images after upload\nsetPreviews([]);// Reset previews\n}catch(err){setError(\"Error uploading images. Please try again.\");}finally{setUploading(false);}};return/*#__PURE__*/_jsxs(Container,{className:\"upload-page mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'120px'}}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{md:8,className:\"p-4 border rounded shadow bg-white\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-4\",children:\"Upload Your Images to Gallery\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpload,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formFileMultiple\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Images (Max: 10)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleFileChange})]}),previews.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2 mb-3\",children:previews.map((src,index)=>/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"Preview \".concat(index),className:\"img-thumbnail\",style:{width:\"100px\",height:\"100px\"}},index))}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:uploading,className:\"w-100\",children:uploading?/*#__PURE__*/_jsx(Spinner,{as:\"span\",animation:\"border\",size:\"sm\"}):\"Upload Images\"})]})]})})]});};export default UploadPage;","map":{"version":3,"names":["React","useState","axios","Container","Form","Button","Alert","Spinner","Row","Col","jsx","_jsx","jsxs","_jsxs","UploadPage","images","setImages","previews","setPreviews","uploading","setUploading","error","setError","success","setSuccess","handleFileChange","e","files","Array","from","target","length","map","file","URL","createObjectURL","handleUpload","preventDefault","formData","FormData","forEach","image","append","response","post","headers","err","className","children","style","marginTop","md","variant","onSubmit","Group","controlId","Label","Control","type","multiple","accept","onChange","src","index","alt","concat","width","height","disabled","as","animation","size"],"sources":["C:/Users/farha/OneDrive/Desktop/TNS/Client/src/pages/UploadPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Form, Button, Alert, Spinner, Row, Col } from \"react-bootstrap\";\r\n\r\nconst UploadPage = () => {\r\n  const [images, setImages] = useState([]);\r\n  const [previews, setPreviews] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const handleFileChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    if (files.length > 10) {\r\n      setError(\"You can upload up to 10 images at a time.\");\r\n      return;\r\n    }\r\n    setImages(files);\r\n    setPreviews(files.map((file) => URL.createObjectURL(file)));\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n  };\r\n\r\n  const handleUpload = async (e) => {\r\n    e.preventDefault();\r\n    if (images.length === 0) {\r\n      setError(\"Please select at least one image.\");\r\n      return;\r\n    }\r\n  \r\n    const formData = new FormData();\r\n    images.forEach((image) => {\r\n      formData.append(\"images\", image); // Append the selected images\r\n    });\r\n  \r\n    setUploading(true);\r\n  \r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/upload-multiple\", formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n  \r\n      setSuccess(\"Images uploaded successfully!\");\r\n      setImages([]); // Reset images after upload\r\n      setPreviews([]); // Reset previews\r\n    } catch (err) {\r\n      setError(\"Error uploading images. Please try again.\");\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <Container className=\"upload-page mt-5\">\r\n             <div style={{ marginTop: '120px' }}></div>\r\n\r\n      <Row className=\"justify-content-center\">\r\n        <Col md={8} className=\"p-4 border rounded shadow bg-white\">\r\n          <h3 className=\"text-center mb-4\">Upload Your Images to Gallery</h3>\r\n\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {success && <Alert variant=\"success\">{success}</Alert>}\r\n\r\n          <Form onSubmit={handleUpload}>\r\n            <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\r\n              <Form.Label>Select Images (Max: 10)</Form.Label>\r\n              <Form.Control type=\"file\" multiple accept=\"image/*\" onChange={handleFileChange} />\r\n            </Form.Group>\r\n\r\n            {previews.length > 0 && (\r\n              <div className=\"d-flex flex-wrap gap-2 mb-3\">\r\n                {previews.map((src, index) => (\r\n                  <img key={index} src={src} alt={`Preview ${index}`} className=\"img-thumbnail\" style={{ width: \"100px\", height: \"100px\" }} />\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <Button variant=\"primary\" type=\"submit\" disabled={uploading} className=\"w-100\">\r\n              {uploading ? <Spinner as=\"span\" animation=\"border\" size=\"sm\" /> : \"Upload Images\"}\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UploadPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}